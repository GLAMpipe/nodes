

<setting>
	<settinginfo>
		<settingtitle>
			login
		</settingtitle>
		<settinginstructions>
		</settinginstructions>
	</settinginfo>
	
	<settingaction>
		<label>username </label>
		<input class="node-settings" type="text" name="username" id="username" required />
		<label>password</label>
		<input class="node-settings" type="password" name="password" id="password"/>
	</settingaction>

	<pre id="login-js" class="node-settings" style="height:200px; width:100%">

var options = {
	headers: {'content-type' : 'application/x-www-form-urlencoded'},
	url: context.node.params.required_url + "/login", 
	method: 'POST',
	form: {"email": context.node.settings.username, "password": context.node.settings.password},
	json: true
};

core.login = options;		
out.say("progress", "Trying to login ..."); 
	</pre>
</setting>




<setting>

	<settinginfo>
		<settingtitle>
			options.js
		</settingtitle>
		<settinginstructions>
			Provide options object for request module.
		</settinginstructions>
	</settinginfo>

	<pre id="editor" class="node-settings" style="height:400px; width:100%">

var options = {
	url: out.url,  // from init.js
	json: true,
	body: item,
	method: 'POST',
	headers: {
		"accept": "application/json",
		"Content-Type": "application/json"
	}
};



// if there is an url in out_link, then we do not run again
if(out_link && typeof out_link == "string" && out_link.match(/^http/))
	options.skip = true;

// do not proceed with empty content
if(item)
	core.options = options;    
	</pre>

</setting>

<script src="../js/ace/ace.js" type="text/javascript" charset="utf-8"></script>
<script>
	var editor = ace.edit('editor');
	editor.setTheme('ace/theme/twilight');
	editor.session.setMode('ace/mode/javascript');

	var editor_login = ace.edit('login-js');
	editor_login.setTheme('ace/theme/twilight');
	editor_login.session.setMode('ace/mode/javascript');

</script>



