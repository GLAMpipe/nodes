{"remainingRequest":"/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/node_modules/babel-loader/lib/index.js!/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/src/components/DBDataTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/src/components/DBDataTable.vue","mtime":1634813820917},{"path":"/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2FyaWhheXJpL1Byb2plY3RzL0dMQU1waXBlLXJld3JpdGUvbm9kZXMvV2lraW1lZGlhL2xvb2t1cF93ZWJfd2lraWRhdGFfbWF0Y2gvc291cmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2FyaWhheXJpL1Byb2plY3RzL0dMQU1waXBlLXJld3JpdGUvbm9kZXMvV2lraW1lZGlhL2xvb2t1cF93ZWJfd2lraWRhdGFfbWF0Y2gvc291cmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHdlYiBmcm9tICcuLy4uL3dlYi5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnREJEYXRhVGFibGUnLAogIHByb3BzOiBbJ3Nob3dfb25seV9ub25fbWF0Y2hlZCddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdGF0czogewogICAgICAgIHRvdGFsOiAtMSwKICAgICAgICB1bm1hdGNoZWQ6IDAKICAgICAgfSwKICAgICAgZGF0YTogW10sCiAgICAgIGZpZWxkczogW10sCiAgICAgIHN1Z2dlc3Rpb25zX2ZpZWxkOiAnJywKICAgICAgbWF0Y2hfZmllbGQ6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0UmVjb25jaWxpYXRpb25SZXN1bHQ6IGZ1bmN0aW9uIGZvcm1hdFJlY29uY2lsaWF0aW9uUmVzdWx0KHdkX3Jlc3VsdCwgZGF0YSkgewogICAgICB2YXIgb3V0ID0gJzx0YWJsZT4nOwoKICAgICAgaWYgKGRhdGFbdGhpcy5tYXRjaF9maWVsZF0pIHsKICAgICAgICByZXR1cm4gIjxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtcHJpbWFyeVwiIG9uY2xpY2s9XCJ3aW5kb3cudGFibGUuc2V0U2VsZWN0aW9uKCciLmNvbmNhdChkYXRhLl9pZCwgIicsICcnKVwiPkNoYW5nZSBzZWxlY3Rpb24gPC9idXR0b24+ICgiKS5jb25jYXQod2RfcmVzdWx0LnJlc3VsdC5sZW5ndGgsICIgc3VnZ2VzdGlvbnMpIik7CiAgICAgIH0KCiAgICAgIGlmICh3ZF9yZXN1bHQucmVzdWx0KSB7CiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHdkX3Jlc3VsdC5yZXN1bHQpLAogICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciByID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgICBpZiAoci5tYXRjaCkgewogICAgICAgICAgICAgIG91dCArPSAiPGIgY2xhc3M9XCJ0ZXh0LWluZm9cIj4iLmNvbmNhdChyLm5hbWUsICIgIikuY29uY2F0KHIuaWQsICI8L2I+Iik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKHIuc2NvcmUgPT0gMTAwKSBvdXQgKz0gIjx0cj48dGQ+PGI+Ii5jb25jYXQoci5uYW1lLCAiPC9iPjwvdGQ+PHRkPiAiKS5jb25jYXQoci5pZCwgIiA8L3RkPjx0ZD4gIikuY29uY2F0KHIuc2NvcmUsICI8L3RkPjx0ZD48YnV0dG9uIG9uY2xpY2s9XCJ3aW5kb3cudGFibGUuc2V0U2VsZWN0aW9uKCciKS5jb25jYXQoZGF0YS5faWQsICInLCAnIikuY29uY2F0KHIuaWQsICInKVwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgdHlwZT1cImJ1dHRvblwiPnNlbGVjdDwvYnV0dG9uPjwvdGQ+PC90cj4iKTtlbHNlIG91dCArPSAiPHRyPjx0ZD4iLmNvbmNhdChyLm5hbWUsICI8L3RkPjx0ZD4gIikuY29uY2F0KHIuaWQsICIgIikuY29uY2F0KHIuc2NvcmUsICI8L3RkPjwvdHI+Iik7CiAgICAgICAgICAgIH0gLy92YXIgbWF0Y2hlZF9ieSA9ICcnCgogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBvdXQgKyAnPC90YWJsZT4nOwogICAgfSwKICAgIGZvcm1hdFJlY29uY2lsaWF0aW9uTWF0Y2g6IGZ1bmN0aW9uIGZvcm1hdFJlY29uY2lsaWF0aW9uTWF0Y2god2RfbWF0Y2gsIGRhdGEpIHsKICAgICAgcmV0dXJuIHRoaXMucGlja1dJRCh3ZF9tYXRjaCwgZGF0YSk7CiAgICB9LAogICAgcGlja1dJRDogZnVuY3Rpb24gcGlja1dJRCh3aWQsIGRhdGEpIHsKICAgICAgdmFyIG91dCA9ICcnOwoKICAgICAgaWYgKGRhdGFbdGhpcy5zdWdnZXN0aW9uc19maWVsZF0ucmVzdWx0KSB7CiAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihkYXRhW3RoaXMuc3VnZ2VzdGlvbnNfZmllbGRdLnJlc3VsdCksCiAgICAgICAgICAgIF9zdGVwMjsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciByID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICAgICAgaWYgKHIuaWQgPT0gd2lkKSB7CiAgICAgICAgICAgICAgb3V0ICs9ICI8YiBjbGFzcz1cInRleHQtaW5mb1wiPiIuY29uY2F0KHIubmFtZSwgIiAoPGEgaHJlZj1cIlwiPiIpLmNvbmNhdChyLmlkLCAiPC9hPik8L2I+Iik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBvdXQ7CiAgICB9LAogICAgc2V0U2VsZWN0aW9uOiBmdW5jdGlvbiBzZXRTZWxlY3Rpb24oZG9jX2lkLCBzZWxlY3Rpb24pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRhdGEsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkb2NfaWQpOwogICAgICAgICAgICAgICAgZGF0YSA9IHt9OwogICAgICAgICAgICAgICAgZGF0YVtfdGhpcy5tYXRjaF9maWVsZF0gPSBzZWxlY3Rpb247CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB3ZWIuc2V0RGF0YShfdGhpcy4kcGFyZW50LnNldHRpbmdzLmNvbGxlY3Rpb24sIGRvY19pZCwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHdlYi5nZXREYXRhKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy5kYXRhID0gcmVzdWx0LmRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHNob3dfb25seV9ub25fbWF0Y2hlZDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3Nob3dfb25seV9ub25fbWF0Y2hlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHdlYi5nZXREYXRhKHRoaXMuc2hvd19vbmx5X25vbl9tYXRjaGVkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSByZXN1bHQuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzaG93X29ubHlfbm9uX21hdGNoZWQoKSB7CiAgICAgICAgcmV0dXJuIF9zaG93X29ubHlfbm9uX21hdGNoZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNob3dfb25seV9ub25fbWF0Y2hlZDsKICAgIH0oKQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gKCkgewogICAgdmFyIF9tb3VudGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIHBhcmFtcywgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHdpbmRvdy50YWJsZSA9IHRoaXM7IC8vIGhhY2tpc2g6IGV4cG9zZSBtZXRob2RzIGZvciBwbGFpbiBqcyAic2VsZWN0IiBidXR0b25zCgogICAgICAgICAgICAgIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7CiAgICAgICAgICAgICAgdGhpcy5maWVsZHMgPSBwYXJhbXMuZ2V0KCJmaWVsZHMiKS5zcGxpdCgnLCcpOwogICAgICAgICAgICAgIHRoaXMuc3VnZ2VzdGlvbnNfZmllbGQgPSBwYXJhbXMuZ2V0KCJzdWdnZXN0aW9ucyIpOwogICAgICAgICAgICAgIHRoaXMubWF0Y2hfZmllbGQgPSBwYXJhbXMuZ2V0KCJtYXRjaCIpOwogICAgICAgICAgICAgIHRoaXMuZmllbGRzID0gdGhpcy5maWVsZHMuY29uY2F0KFt0aGlzLnN1Z2dlc3Rpb25zX2ZpZWxkLCB0aGlzLm1hdGNoX2ZpZWxkXSk7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiB3ZWIuZ2V0RGF0YSh0aGlzLnNob3dfb25seV9ub25fbWF0Y2hlZCk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgdGhpcy5kYXRhID0gcmVzdWx0LmRhdGEuZGF0YTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyOwogICAgICAgICAgICAgIHJldHVybiB3ZWIuZ2V0U3RhdHMoKTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgdGhpcy5zdGF0cyA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICByZXR1cm4gX21vdW50ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gbW91bnRlZDsKICB9KCkKfTs="},{"version":3,"sources":["DBDataTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div class=\"data\">\n\t\ttotal: {{stats.total}}\n\t\t<div v-if=\"stats.non_matched == 0\" class=\"alert alert-success\">joo</div>\n\t\t<b-table striped hover :items=\"data\" :fields=\"fields\">\n\n\t\t\t<template v-slot:[`cell(${suggestions_field})`]=\"data\">\n\t\t\t\t<div v-html=\"formatReconciliationResult(data.value, data.item)\"></div>\n\t\t\t</template>\n\t\t\t<template v-slot:[`cell(${match_field})`]=\"data\">\n\t\t\t\t<div v-html=\"formatReconciliationMatch(data.value, data.item)\"></div>\n\t\t\t</template>\n\n\t\t</b-table>\n\n\t</div>\n</template>\n\n<script>\n\nimport web from './../web.js'\n\nexport default {\n\tname: 'DBDataTable',\n\tprops: ['show_only_non_matched'],\n\tdata() {\n\t\treturn {\n\t\t\tstats: {total:-1, unmatched:0},\n\t\t\tdata: [],\n\t\t\tfields: [],\n\t\t\tsuggestions_field: '',\n\t\t\tmatch_field: ''\n\t\t}\n\t},\n\tmethods: {\n\t\tformatReconciliationResult(wd_result, data) {\n\t\t\tvar out = '<table>'\n\t\t\tif(data[this.match_field]) {\n\t\t\t\treturn `<button class=\"btn btn-outline-primary\" onclick=\"window.table.setSelection('${data._id}', '')\">Change selection </button> (${wd_result.result.length} suggestions)`\n\t\t\t}\n\t\t\tif(wd_result.result) {\n\t\t\t\tfor(var r of wd_result.result) {\n\t\t\t\t\tif(r.match) {\n\t\t\t\t\t\tout += `<b class=\"text-info\">${r.name} ${r.id}</b>`\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(r.score == 100)\n\t\t\t\t\t\t\tout += `<tr><td><b>${r.name}</b></td><td> ${r.id} </td><td> ${r.score}</td><td><button onclick=\"window.table.setSelection('${data._id}', '${r.id}')\" class=\"btn btn-primary\" type=\"button\">select</button></td></tr>`\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tout += `<tr><td>${r.name}</td><td> ${r.id} ${r.score}</td></tr>`\n\t\t\t\t\t}\n\t\t\t\t\t//var matched_by = ''\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn out + '</table>'\n\t\t},\n\t\tformatReconciliationMatch(wd_match, data) {\n\t\t\treturn this.pickWID(wd_match, data)\n\t\t},\n\t\tpickWID(wid, data) {\n\t\t\tvar out = ''\n\t\t\tif(data[this.suggestions_field].result) {\n\t\t\t\tfor(var r of data[this.suggestions_field].result) {\n\t\t\t\t\tif(r.id == wid) {\n\t\t\t\t\t\tout += `<b class=\"text-info\">${r.name} (<a href=\"\">${r.id}</a>)</b>`\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn out\n\t\t},\n\t\tasync setSelection(doc_id, selection) {\n\t\t\tconsole.log(doc_id)\n\t\t\tvar data = {}\n\n\t\t\tdata[this.match_field] = selection\n\t\t\tawait web.setData(this.$parent.settings.collection, doc_id, data)\n\t\t\tlet result = await web.getData()\n\t\t\tthis.data = result.data.data\n\t\t}\n\t},\n\n\twatch: {\n\t\tshow_only_non_matched: async function() {\n\t\t\tlet result = await web.getData(this.show_only_non_matched)\n\t\t\tthis.data = result.data.data\n\t\t}\n\t},\n\tmounted: async function () {\n\t\twindow.table = this; // hackish: expose methods for plain js \"select\" buttons\n\t\tconst params = new URLSearchParams(window.location.search);\n\t\tthis.fields = params.get(\"fields\").split(',');\n\t\tthis.suggestions_field = params.get(\"suggestions\")\n\t\tthis.match_field = params.get(\"match\")\n\t\tthis.fields = this.fields.concat([this.suggestions_field, this.match_field])\n\t\tlet result = await web.getData(this.show_only_non_matched)\n\t\tthis.data = result.data.data\n\t\tthis.stats = await web.getStats()\n\t}\n}\n\n</script>\n"],"sourceRoot":"src/components"}]}