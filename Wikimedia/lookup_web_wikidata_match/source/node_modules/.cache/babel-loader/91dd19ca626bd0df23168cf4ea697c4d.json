{"remainingRequest":"/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/node_modules/babel-loader/lib/index.js!/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/node_modules/eslint-loader/index.js??ref--13-0!/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/src/web.js","dependencies":[{"path":"/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/src/web.js","mtime":1634731185470},{"path":"/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2FyaWhheXJpL1Byb2plY3RzL0dMQU1waXBlLXJld3JpdGUvbm9kZXMvV2lraW1lZGlhL2xvb2t1cF93ZWJfd2lraWRhdGFfbWF0Y2gvc291cmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKdmFyIHdlYiA9IHt9OwoKd2ViLmdldERhdGEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGNvbGxlY3Rpb24sIHF1ZXJ5KSB7CiAgICB2YXIgcmVzdWx0OwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL2FwaS92Mi9jb2xsZWN0aW9ucy8iLmNvbmNhdChjb2xsZWN0aW9uLCAiL2RvY3M/IikuY29uY2F0KHF1ZXJ5KSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MikgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCk7Cgp3ZWIuc2V0RGF0YSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihjb2xsZWN0aW9uLCBkb2NfaWQsIGRhdGEpIHsKICAgIHZhciByZXN1bHQ7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoIi9hcGkvdjIvY29sbGVjdGlvbnMvIi5jb25jYXQoY29sbGVjdGlvbiwgIi9kb2NzLyIpLmNvbmNhdChkb2NfaWQpLCBkYXRhKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gzLCBfeDQsIF94NSkgewogICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOwoKd2ViLmdldFVSTFF1ZXJ5UGFyYW1zQXNTdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHVybCA9IGRvY3VtZW50LlVSTC5zcGxpdCgnPycpOwogIGlmICh1cmwubGVuZ3RoID09IDIpIHJldHVybiB1cmxbMV0ucmVwbGFjZSgvXD8vZywgJycpO2Vsc2UgcmV0dXJuICcnOwp9OwoKZXhwb3J0IGRlZmF1bHQgd2ViOw=="},{"version":3,"sources":["/home/arihayri/Projects/GLAMpipe-rewrite/nodes/Wikimedia/lookup_web_wikidata_match/source/src/web.js"],"names":["axios","web","getData","collection","query","get","result","setData","doc_id","data","put","getURLQueryParamsAsString","url","document","URL","split","length","replace"],"mappings":";;;;;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAIC,GAAG,GAAG,EAAV;;AAGAA,GAAG,CAACC,OAAJ;AAAA,qEAAc,iBAAeC,UAAf,EAA2BC,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACMJ,KAAK,CAACK,GAAN,+BAAiCF,UAAjC,mBAAoDC,KAApD,EADN;;AAAA;AACTE,YAAAA,MADS;AAAA,6CAENA,MAFM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAd;;AAAA;AAAA;AAAA;AAAA;;AAKAL,GAAG,CAACM,OAAJ;AAAA,sEAAc,kBAAeJ,UAAf,EAA2BK,MAA3B,EAAmCC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACMT,KAAK,CAACU,GAAN,+BAAiCP,UAAjC,mBAAoDK,MAApD,GAA8DC,IAA9D,CADN;;AAAA;AACTH,YAAAA,MADS;AAAA,8CAENA,MAFM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAd;;AAAA;AAAA;AAAA;AAAA;;AAKAL,GAAG,CAACU,yBAAJ,GAAgC,YAAW;AAC1C,MAAIC,GAAG,GAAGC,QAAQ,CAACC,GAAT,CAAaC,KAAb,CAAmB,GAAnB,CAAV;AACA,MAAGH,GAAG,CAACI,MAAJ,IAAc,CAAjB,EACC,OAAOJ,GAAG,CAAC,CAAD,CAAH,CAAOK,OAAP,CAAe,KAAf,EAAsB,EAAtB,CAAP,CADD,KAGC,OAAO,EAAP;AACD,CAND;;AAQA,eAAehB,GAAf","sourcesContent":["\nimport axios from \"axios\"\nlet web = {}\n\n\nweb.getData = async function(collection, query) {\n\tvar result = await axios.get(`/api/v2/collections/${collection}/docs?${query}`)\n\treturn result\n}\n\nweb.setData = async function(collection, doc_id, data) {\n\tvar result = await axios.put(`/api/v2/collections/${collection}/docs/${doc_id}`, data)\n\treturn result\n}\n\nweb.getURLQueryParamsAsString = function() {\n\tvar url = document.URL.split('?')\n\tif(url.length == 2)\n\t\treturn url[1].replace(/\\?/g, '')\n\telse\n\t\treturn ''\n}\n\nexport default web\n"]}]}